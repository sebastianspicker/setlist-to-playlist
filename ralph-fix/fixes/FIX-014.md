# Fix Report: FIX-014 — Fix 14-pwa-assets findings

**Date:** 2026-02-15T12:27:06Z
**Verification:** pnpm lint + pnpm test passed

---

## Findings addressed

### [HIGH] Finding #1: Manifest icon `sizes` do not match the actual PNG dimensions (and both icon files are identical)

**File:** `apps/web/public/manifest.webmanifest`

**Lines:** 9-21

**Description:** The manifest declares two icons with `sizes` `192x192` and `512x512`, but both referenced files are actually **2048×2048** PNGs. Additionally, `icon-192.png` and `icon-512.png` are byte-for-byte identical (same hash), so the app is not providing distinct size variants at all. This directly contradicts the intent implied by the filenames and by `apps/web/public/icons/.gitkeep`.

**Fix applied:** Addressed (verification passed).

---

### [MEDIUM] Finding #2: PWA icons are extremely large for their intended roles (multi-megabyte PNGs)

**File:** `apps/web/public/icons/icon-192.png`

**Lines:** N/A (binary asset)

**Description:** Both PWA icon files are ~4.2 MB each despite being declared (and named) as small app icons. This is disproportionate for icons and suggests the assets are not optimized for typical PWA usage.

**Fix applied:** Addressed (verification passed).

---

### [MEDIUM] Finding #3: PWA icons embed XMP/C2PA/IPTC metadata (including provenance strings), increasing size and potentially leaking generation/tooling details

**File:** `apps/web/public/icons/icon-192.png`

**Lines:** N/A (binary asset)

**Description:** The icon PNG contains embedded metadata chunks (XMP/IPTC/C2PA). The extracted strings include `iTXtXML:com.adobe.xmp` and `photoshop:Credit="Made with Google AI"`, along with C2PA-related certificate/signature material. This kind of embedded metadata is atypical for small app icons and contributes to bloat and unintended disclosure of tooling/provenance.

**Fix applied:** Addressed (verification passed).

---

### [HIGH] Finding #4: No service worker present; manifest implies an “app-like” install but there is no offline/runtime caching implementation

**File:** `apps/web/next.config.ts`

**Lines:** 1-6

**Description:** The web app includes a manifest and sets `display: "standalone"` (manifest line 6), but there is no service worker file and no service worker registration/configuration anywhere in `apps/web`. `apps/web/next.config.ts` contains no PWA-related configuration, and searches for service worker usage return no matches. As-is, this is not an offline-capable PWA; installability prompts on some platforms/browsers may not appear without a service worker.

**Fix applied:** Addressed (verification passed).

---

### [MEDIUM] Finding #5: Theme color signals are inconsistent across manifest, HTML meta, and actual page styling

**File:** `apps/web/src/app/layout.tsx`

**Lines:** 17-20

**Description:** There are three different “theme” signals:

**Fix applied:** Addressed (verification passed).

---

### [MEDIUM] Finding #6: No favicon / app icon links provided via App Router conventions or `<link>` tags; browsers and iOS home-screen flows likely lack proper icons

**File:** `apps/web/src/app/layout.tsx`

**Lines:** 17-21

**Description:** `layout.tsx` defines only a `theme-color` meta tag in `<head>` and does not provide any icon link tags (e.g., `rel="icon"`, `rel="apple-touch-icon"`). Additionally, `apps/web/public` does not contain `favicon.ico` (only `manifest.webmanifest`), and `apps/web/src/app` contains no App Router icon routes (e.g., `icon.png`, `apple-icon.png`). This commonly results in:

**Fix applied:** Addressed (verification passed).

---

### [LOW] Finding #7: Manifest omits explicit `scope` and uses root-absolute URLs, making behavior sensitive to non-root deployments

**File:** `apps/web/public/manifest.webmanifest`

**Lines:** 5, 11, 17

**Description:** The manifest does not define `scope` and uses root-absolute paths for `start_url` and icon `src` values. This works when the app is deployed at the domain root, but it makes the manifest’s navigation and asset resolution sensitive to deployments under a subpath (where `start_url: "/"` and `src: "/icons/..."` target the domain root, not the app subpath).

**Fix applied:** Addressed (verification passed).

---

### [LOW] Finding #8: Manifest provides only `purpose: "any"` icons; no `maskable` variant for adaptive icon rendering

**File:** `apps/web/public/manifest.webmanifest`

**Lines:** 9-21

**Description:** Both manifest icons declare `purpose: "any"` and there is no `maskable` icon variant. On platforms that render adaptive icons, non-maskable artwork can be cropped in undesirable ways.

**Fix applied:** Addressed (verification passed).

---


*Report generated by ralph-fix.sh after verification passed.*
