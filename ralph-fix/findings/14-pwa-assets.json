{
  "auditTitle": "PWA & Static Assets",
  "auditDate": "2026-02-14T11:48:44Z",
  "filesExamined": 6,
  "totalFindings": 8,
  "summary": {
    "critical": 0,
    "high": 1,
    "medium": 3,
    "low": 4
  },
  "findings": [
    {
      "severity": "HIGH",
      "number": 1,
      "title": "Manifest icon `sizes` do not match actual icon dimensions (and icons are extremely large)",
      "file": "apps/web/public/manifest.webmanifest",
      "lines": "9-21",
      "category": "will-break",
      "description": "The manifest declares two icons with `sizes` `192x192` and `512x512`, but the actual PNGs in `apps/web/public/icons/` are both **2048×2048**. This makes the manifest metadata inaccurate, and user agents may select/validate icons based on the declared `sizes` attribute. Additionally, both icon files are ~4.0MB, which is unusually large for PWA icons and increases bandwidth/cache pressure during install and when revalidated.",
      "code": "// apps/web/public/manifest.webmanifest:9-21\n\"icons\": [\n  { \"src\": \"/icons/icon-192.png\", \"sizes\": \"192x192\", \"type\": \"image/png\", \"purpose\": \"any\" },\n  { \"src\": \"/icons/icon-512.png\", \"sizes\": \"512x512\", \"type\": \"image/png\", \"purpose\": \"any\" }\n]",
      "whyThisMatters": "Incorrect icon metadata can lead to wrong icon selection, install-time warnings, or poor rendering across platforms; oversized assets hurt performance and storage, especially on mobile connections and during “Add to Home Screen” flows."
    },
    {
      "severity": "MEDIUM",
      "number": 2,
      "title": "Theme/background colors are inconsistent between manifest and document meta",
      "file": "apps/web/public/manifest.webmanifest",
      "lines": "7-8",
      "category": "slop",
      "description": "The manifest declares `background_color` `#ffffff` and `theme_color` `#000000`, but the document sets `<meta name=\"theme-color\" content=\"#1a1a1a\" />`. This creates inconsistent theming signals between install-time metadata and runtime UI theming.",
      "code": "// apps/web/public/manifest.webmanifest:7-8\n\"background_color\": \"#ffffff\",\n\"theme_color\": \"#000000\",",
      "whyThisMatters": "Inconsistent colors can cause confusing address-bar/OS theming and mismatched splash/background appearance depending on platform and install context."
    },
    {
      "severity": "MEDIUM",
      "number": 3,
      "title": "PWA manifest exists, but there is no service worker or offline asset strategy present",
      "file": "apps/web/public/",
      "lines": "N/A (directory contents)",
      "category": "unfinished",
      "description": "A web app manifest is present and referenced, but there is no `sw.js` (or similar) in `apps/web/public/`, and there is no evidence of service worker registration in the app code. As a result, offline capability and runtime caching behavior are not implemented (and not documented in the audited PWA entrypoints).",
      "code": "# apps/web/public contents (no service worker file)\nicons/\nmanifest.webmanifest",
      "whyThisMatters": "Users may be able to “install” the app, but it will not behave like an offline-capable PWA; connectivity loss can lead to broken navigation and a poor installed-app experience."
    },
    {
      "severity": "MEDIUM",
      "number": 4,
      "title": "iOS “Add to Home Screen” meta and Apple touch icon assets are absent in the app shell/public assets",
      "file": "apps/web/src/app/layout.tsx",
      "lines": "17-20",
      "category": "unfinished",
      "description": "The root document `<head>` contains only a `theme-color` meta tag and relies on the web manifest. There are no iOS-oriented meta tags (e.g., “apple-mobile-web-app-*”) and no Apple touch icon assets in `apps/web/public/` (e.g., `apple-touch-icon.png`). In practice, iOS home screen install behavior can be degraded without these.",
      "code": "// apps/web/src/app/layout.tsx:17-20\n<html lang=\"en\">\n  <head>\n    <meta name=\"theme-color\" content=\"#1a1a1a\" />\n  </head>",
      "whyThisMatters": "On iOS, install UX and home screen icon/splash behavior can be inconsistent or low-quality when Apple-specific metadata and touch icons are missing."
    },
    {
      "severity": "LOW",
      "number": 5,
      "title": "No `favicon.ico` (or equivalent shortcut icon) is present in `public`",
      "file": "apps/web/public/",
      "lines": "N/A (directory contents)",
      "category": "slop",
      "description": "`apps/web/public/` contains only `manifest.webmanifest` and the `icons/` directory. Many user agents and crawlers request `/favicon.ico` by default; without an asset, this commonly results in repeated 404s and missing tab/favicon UI.",
      "code": "# apps/web/public contents\nicons/\nmanifest.webmanifest",
      "whyThisMatters": "Missing favicons are a small but visible polish issue and can cause noisy 404s in logs/monitoring."
    },
    {
      "severity": "LOW",
      "number": 6,
      "title": "Manifest omits `scope` and relies on default scoping behavior",
      "file": "apps/web/public/manifest.webmanifest",
      "lines": "1-23",
      "category": "will-break",
      "description": "The manifest defines `start_url` but does not define `scope`. This relies on default scoping rules (based on the manifest URL’s directory). This is currently likely fine because the manifest is at the site root, but it is a latent footgun if hosting paths change (especially because icon `src` and `start_url` are absolute-root paths).",
      "code": "// apps/web/public/manifest.webmanifest:1-6\n{\n  \"name\": \"Setlist to Playlist\",\n  \"short_name\": \"Setlist2Playlist\",\n  \"description\": \"Import a setlist from setlist.fm and create an Apple Music playlist.\",\n  \"start_url\": \"/\",\n  \"display\": \"standalone\",",
      "whyThisMatters": "Unexpected scope/start URL interactions can cause installed PWAs to open outside the intended navigation context if the app is later served under a different path structure."
    },
    {
      "severity": "LOW",
      "number": 7,
      "title": "No maskable icon is provided (`purpose` is only `\"any\"`)",
      "file": "apps/web/public/manifest.webmanifest",
      "lines": "9-21",
      "category": "slop",
      "description": "Both manifest icons specify `purpose: \"any\"` and there is no `maskable` (or combined) icon entry. Some platforms use maskable icons to avoid awkward cropping and to better match OS icon shapes.",
      "code": "// apps/web/public/manifest.webmanifest:10-21\n{\n  \"src\": \"/icons/icon-192.png\",\n  \"sizes\": \"192x192\",\n  \"type\": \"image/png\",\n  \"purpose\": \"any\"\n}",
      "whyThisMatters": "Installed app icons may appear improperly cropped or visually inconsistent on platforms that prefer maskable icons."
    },
    {
      "severity": "LOW",
      "number": 8,
      "title": "`short_name` is likely to be truncated in install/UI contexts",
      "file": "apps/web/public/manifest.webmanifest",
      "lines": "2-4",
      "category": "slop",
      "description": "The `short_name` value is relatively long (`Setlist2Playlist`). Many OS/UI surfaces have limited space for app names and will truncate longer short names.",
      "code": "// apps/web/public/manifest.webmanifest:2-4\n\"name\": \"Setlist to Playlist\",\n\"short_name\": \"Setlist2Playlist\",\n\"description\": \"Import a setlist from setlist.fm and create an Apple Music playlist.\",",
      "whyThisMatters": "Truncation can reduce recognizability on the home screen/app launcher and makes the installed app feel less polished."
    }
  ],
  "auditId": "14-pwa-assets",
  "sourceFile": "14-pwa-assets.md"
}