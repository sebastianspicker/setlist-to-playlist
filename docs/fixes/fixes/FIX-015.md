# Fix Report: FIX-015 — Fix 15-dead-code findings

**Date:** 2026-02-15T12:27:06Z
**Verification:** pnpm lint + pnpm test passed

---

## Findings addressed

### [MEDIUM] Finding #1: Unused imports in `CreatePlaylistView` (likely lint/typecheck noise)

**File:** `apps/web/src/features/playlist-export/CreatePlaylistView.tsx`

**Lines:** 6-12

**Description:** `authorizeMusicKit` and `initMusicKit` are imported but never referenced in this module. If `noUnusedLocals` / ESLint unused-import rules are enabled, this becomes a failing warning/error; even without enforcement it’s dead code in the module’s import surface.

**Fix applied:** Addressed (verification passed).

---

### [LOW] Finding #2: Dead conditional (ternary branches are identical)

**File:** `apps/web/src/app/api/setlist/proxy/route.ts`

**Lines:** 33-37

**Description:** The ternary expression is redundant: both branches return `result.status`. This is dead branching that can’t produce different behavior.

**Fix applied:** Addressed (verification passed).

---

### [LOW] Finding #3: Exported helpers are unused within the repo (`apiUrl`, `healthUrl`)

**File:** `apps/web/src/lib/api.ts`

**Lines:** 12-19, 24

**Description:** Within this repository, `apiUrl` and `healthUrl` are exported but have no import sites. They increase module surface area without corresponding usage.

**Fix applied:** Addressed (verification passed).

---

### [LOW] Finding #4: `getAllowOrigin` is exported but only used internally

**File:** `apps/web/src/lib/cors.ts`

**Lines:** 8-18

**Description:** `getAllowOrigin` is exported but (in this repo) only referenced within `cors.ts` itself (`corsHeaders`, `corsHeadersForOptions`). No other module imports it.

**Fix applied:** Addressed (verification passed).

---

### [LOW] Finding #5: Multiple exports in `musickit.ts` are unused outside the module

**File:** `apps/web/src/lib/musickit.ts`

**Lines:** 53-70, 125-128, 205-208

**Description:** The following are exported but have no import sites in this repo:

**Fix applied:** Addressed (verification passed).

---

### [LOW] Finding #6: Barrel re-export is unused (`SetlistPreview`)

**File:** `apps/web/src/features/setlist-import/index.ts`

**Lines:** 1-2

**Description:** `SetlistPreview` is exported from the feature barrel but there are no imports of `SetlistPreview` from `@/features/setlist-import` in this repo. The component is consumed via direct relative import from `SetlistImportView.tsx` instead.

**Fix applied:** Addressed (verification passed).

---

### [LOW] Finding #7: Exported props type is unused outside its module (`ConnectAppleMusicProps`)

**File:** `apps/web/src/features/matching/ConnectAppleMusic.tsx`

**Lines:** 6-9

**Description:** `ConnectAppleMusicProps` is exported but has no import sites in this repo (it’s only used locally to type the component parameters).

**Fix applied:** Addressed (verification passed).

---

### [LOW] Finding #8: Exported props type is unused outside its module (`MatchingViewProps`)

**File:** `apps/web/src/features/matching/MatchingView.tsx`

**Lines:** 28-31

**Description:** `MatchingViewProps` is exported but not imported anywhere in the repo (it’s only used locally in the component signature).

**Fix applied:** Addressed (verification passed).

---

### [LOW] Finding #9: Exported props type is unused outside its module (`CreatePlaylistViewProps`)

**File:** `apps/web/src/features/playlist-export/CreatePlaylistView.tsx`

**Lines:** 15-18

**Description:** `CreatePlaylistViewProps` is exported but not imported anywhere else in the repo.

**Fix applied:** Addressed (verification passed).

---

### [LOW] Finding #10: `api` entrypoint re-exports types that are unused in the repo

**File:** `apps/api/src/index.ts`

**Lines:** 1-5

**Description:** `DevTokenResponse` and `ProxyResponse` are re-exported from the `api` package entrypoint but have no import sites anywhere in the repo (outside audit/docs). The runtime exports (`handleDevToken`, `handleHealth`, `handleSetlistProxy`) are used, but the type exports appear unused.

**Fix applied:** Addressed (verification passed).

---

### [LOW] Finding #11: Exported type alias is unused outside its module (`FetchSetlistResult`)

**File:** `apps/api/src/lib/setlistfm.ts`

**Lines:** 72-75

**Description:** `FetchSetlistResult` is exported but not imported anywhere else in the repo. It is only referenced locally as the return type of `fetchSetlistFromApi`.

**Fix applied:** Addressed (verification passed).

---

### [MEDIUM] Finding #12: Orphan core “apple” module: placeholder type exported but unused across the repo

**File:** `packages/core/src/apple/index.ts`

**Lines:** 1

**Description:** `@repo/core` re-exports `AppleCatalogTrack` via `packages/core/src/apple/index.ts`, but there are no import sites for `AppleCatalogTrack` anywhere in the repository (outside audit/docs). This makes the entire `core/apple` surface effectively dead code from the repo’s perspective.

**Fix applied:** Addressed (verification passed).

---

### [MEDIUM] Finding #13: Orphan core matching exports: types and helper exported publicly but unused in the repo

**File:** `packages/core/src/matching/index.ts`

**Lines:** 1-3

**Description:** The core matching entrypoint exports:

**Fix applied:** Addressed (verification passed).

---

### [LOW] Finding #14: Core setlist barrel re-exports types that are unused in the repo

**File:** `packages/core/src/setlist/index.ts`

**Lines:** 2-8

**Description:** The repo imports `SetlistFmResponse` from `@repo/core`, but does not import the following re-exported types anywhere:

**Fix applied:** Addressed (verification passed).

---

### [LOW] Finding #15: Empty `.gitkeep` files in `src/` trees are orphan placeholders

**File:** `apps/api/src/middleware/.gitkeep`

**Lines:** (empty file)

**Description:** These empty placeholder files are present in the audited `src/` trees and have no import/usage sites (they only exist to keep otherwise-empty directories in git):

**Fix applied:** Addressed (verification passed).

---


*Report generated by ralph-fix.sh after verification passed.*
